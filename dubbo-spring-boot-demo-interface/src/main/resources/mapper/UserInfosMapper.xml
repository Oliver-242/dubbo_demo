<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.apache.dubbo.springboot.demo.mapper.UserInfosDao">
    <resultMap id="BaseResultMap" type="org.apache.dubbo.springboot.demo.model.dao.UserInfos">
        <id column="userid" property="userId" jdbcType="BIGINT"/>
        <result column="username" property="userName" jdbcType="VARCHAR"/>
        <result column="password" property="password" jdbcType="VARCHAR"/>
        <result column="nickname" property="nickName" jdbcType="VARCHAR"/>
        <result column="creditcardnum" property="creditCardNum" jdbcType="INTEGER"/>
        <result column="depositcardnum" property="depositCardNum" jdbcType="INTEGER"/>
    </resultMap>

    <sql id="All_Column_List">
        userid, username, password, nickname, creditcardnum, depositcardnum
    </sql>

    <insert id="createUserInfo" parameterType="org.apache.dubbo.springboot.demo.model.dao.UserInfos">
        insert into
            userinfos(userid, username, password, nickname, creditcardnum, depositcardnum)
        values (#{user.userId}, #{user.userName}, #{user.password}, #{user.nickName}, #{user.creditCardNum}, #{user.depositCardNum})
    </insert>

    <select id="queryAllUserInfo" resultMap="BaseResultMap">
        select
        <include refid="All_Column_List"/>
        from userinfos
        order by userid
    </select>

    <select id="queryAllByUserName" resultMap="BaseResultMap">
        select
        <include refid="All_Column_List"/>
        from userinfos
        where username=#{username,jdbcType=VARCHAR}
        order by userid
    </select>


</mapper>
